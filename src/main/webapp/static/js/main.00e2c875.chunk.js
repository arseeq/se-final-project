(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(323)},323:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(35),r=a.n(o),i=a(6),s=a(7),c=a(8),m=a(9),d=a(10),u=a(4),h=a(326),g=a(328),p=a(325),E=a(327),v=a(11),b=a.n(v),y="/aintrovert",f="/aintrovert",C="ws://192.168.0.113:10001",k=a(2),S=a(324),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(u.a)(Object(u.a)(a))),a.state={isOpen:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement(k.Navbar,{expand:"md",style:{marginBottom:"10px",backgroundColor:"#4E729A"}},l.a.createElement(k.NavbarBrand,{href:"/aintrovert",style:{color:"white"}},"AIntrovert"),l.a.createElement(k.NavbarToggler,{onClick:this.toggle}),l.a.createElement(k.Collapse,{isOpen:this.state.isOpen,navbar:!0},l.a.createElement(k.Nav,{className:"ml-auto",navbar:!0},!this.props.auth&&l.a.createElement(l.a.Fragment,null,"signin"!==this.props.id?l.a.createElement(k.NavItem,null,l.a.createElement(S.a,{className:"nav navlink",to:f+"/signin"},"Sign In")):"","signup"!==this.props.id?l.a.createElement(k.NavItem,null,l.a.createElement(S.a,{className:"navlink",to:f+"/signup"},"Sign Up")):""),this.props.auth&&l.a.createElement(l.a.Fragment,null,l.a.createElement(k.NavItem,{className:"btn",onClick:this.props.logout,style:{color:"white"}},"Sign Out")))))}}]),t}(n.Component),j=a(13),w=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"validateEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=\S+$)(?=.{8,})/.test(String(e))}},{key:"validName",value:function(e){return/^([A-Z][a-z]+$)/.test(String(e))}},{key:"validImageURL",value:function(e){return/(http(s?):)([\/|.|\w|\s|-])*\.(?:jpg|gif|png|jpeg)/.test(String(e))||0===e.length}},{key:"validEventName",value:function(e){return e.length>0}},{key:"validEventLocation",value:function(e){return e.length>0}},{key:"validEventDate",value:function(e){return e.length>0}},{key:"validEventTime",value:function(e){return e.length>0}},{key:"validEventPrice",value:function(e){return e.length>0&&e>=0}},{key:"validEventPoints",value:function(e){return e.length>0&&e>=0}},{key:"validEventCategory",value:function(e){return e.length>0}},{key:"validEventParticipants",value:function(e){return e.length>0&&e>=2}}]),e}(),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:"",errormsg:!1},a.signin=a.signin.bind(Object(u.a)(Object(u.a)(a))),a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"signin",value:function(){var e=this;w.validateEmail(this.state.email)&&w.validatePassword(this.state.password)?b()(y+"/mainServices/auth/signin",{method:"POST",data:JSON.stringify({email:e.state.email,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log("    ----    "),console.log(t.data),localStorage.setItem("token",t.data[0]),localStorage.setItem("userId",t.data[1]),e.props.login(e.state.email.toLowerCase())}).catch(function(t){console.log(t),e.setState({errormsg:!0})}):e.setState({errormsg:!0})}},{key:"handleChange",value:function(e){switch(e.target.name){case"email":this.setState({email:e.target.value});break;case"password":this.setState({password:e.target.value})}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{id:"signin",auth:!1}),l.a.createElement("div",{className:"container text-center",style:{marginTop:"20px",width:"500px"}},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{style:{marginLeft:"190px"}},"Sign In")),l.a.createElement(j.AvForm,{id:"loginForm",style:{marginTop:"80px",marginBottom:"80px"}},l.a.createElement("div",{className:"incorrectEmailPasswordError",style:{display:this.state.errormsg?"block":"none"}},l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Invalid login! Try again")),l.a.createElement(j.AvField,{name:"email",label:"Email",onChange:this.handleChange,type:"email",value:this.state.email}),l.a.createElement(j.AvField,{name:"password",label:"Password",onChange:this.handleChange,type:"password",value:this.state.password}),l.a.createElement(k.Button,{color:"primary",onClick:this.signin},"Submit"))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={name:"",surname:"",email:"",password:"",passwordConfirm:"",sendDisabled:!0,errormsg:!1},a.signup=a.signup.bind(Object(u.a)(Object(u.a)(a))),a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"signup",value:function(){var e=this;b()(y+"/mainServices/auth/signup",{method:"POST",data:JSON.stringify({name:e.state.name,surname:e.state.surname,email:e.state.email.toLowerCase(),password:e.state.password}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),localStorage.setItem("token",t.data[0]),localStorage.setItem("userId",t.data[1]),localStorage.setItem("email",e.state.email.toLowerCase()),e.props.login(e.state.email.toLowerCase())}).catch(function(t){console.log(t),e.setState({errormsg:!0})})}},{key:"handleChange",value:function(e){switch(e.target.name){case"name":this.setState({name:e.target.value});break;case"surname":this.setState({surname:e.target.value});break;case"email":this.setState({email:e.target.value});break;case"password":this.setState({password:e.target.value});break;case"passwordConfirm":this.setState({passwordConfirm:e.target.value})}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{id:"signup",auth:!1}),l.a.createElement("div",{className:"container text-center",style:{paddingTop:"20px",width:"500px"}},l.a.createElement("div",{className:"row"},l.a.createElement("h2",{style:{marginLeft:"80px",marginBottom:"20px"}},"Sign Up")),l.a.createElement(j.AvForm,{id:"registerForm",style:{marginTop:"80px",marginBottom:"80px"}},l.a.createElement("div",{className:"userExists",style:{display:this.state.errormsg?"block":"none"}},l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Entered email already exists! Enter another email")),l.a.createElement(j.AvField,{name:"name",label:"Name",id:"name",onChange:this.handleChange,type:"text",value:this.state.name,errorMessage:"Name should contain at least 2 characters",validate:{required:{value:!0},pattern:{value:"^([A-Z][a-z]+$)",errorMessage:"Name should be in latin alphabetic starting with the first capital letter"},minLength:{value:2}}}),l.a.createElement(j.AvField,{name:"surname",label:"Surname",id:"surname",onChange:this.handleChange,type:"text",value:this.state.surname,errorMessage:"Surname should contain at least 1 character",validate:{required:{value:!0},pattern:{value:"^([A-Z][a-z]+$)",errorMessage:"Surname should be in latin alphabetic starting with the first capital letter"},minLength:{value:2}}}),l.a.createElement(j.AvField,{name:"email",label:"Email",onChange:this.handleChange,type:"email",value:this.state.email,errorMessage:"Invalid email format",validate:{required:{value:!0},pattern:{value:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$',errorMessage:"Invalid email"}}}),l.a.createElement(j.AvField,{name:"password",label:"Password",onChange:this.handleChange,type:"password",value:this.state.password,errorMessage:"Your password should contain at least 8 characters",validate:{required:{value:!0},pattern:{value:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=\\S+$)(?=.{8,})",errorMessage:"Minimum 8 characters, at least 1 uppercase, 1 lowercase and 1 number. No whitespaces allowed!"}}}),l.a.createElement(j.AvField,{name:"passwordConfirm",label:"Confirm password",onChange:this.handleChange,type:"password",value:this.state.passwordConfirm,errorMessage:"Passwords do not match",validate:{required:{value:!0},pattern:{value:this.state.password}}}),l.a.createElement(k.Button,{color:"primary",onClick:this.signup,disabled:!w.validateEmail(this.state.email)||!w.validatePassword(this.state.password)||this.state.password!==this.state.passwordConfirm||!w.validName(this.state.name)||!w.validName(this.state.surname)},"Submit"))))}}]),t}(n.Component),A=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement("h1",null,"Dashboard Page. Wellcome, ",this.props.user,"!"))}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(k.Card,{style:{marginTop:"10px",backgroundColor:"#4E729A"}},l.a.createElement(k.CardFooter,{className:"text-center",style:{color:"white"}},"\xa9 2018 ",l.a.createElement("span",{style:{color:"yellow"}},"AIntrovert")," All Rights Reserved")))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).leave=a.leave.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"leave",value:function(e){var t=this;b()(y+"/mainServices/event/leave",{method:"POST",data:JSON.stringify({id:t.props.id.toString(),token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e.data),t.props.removeEvent(t.props.ind)}).catch(function(e){alert(e.response.data),console.log(e)})}},{key:"render",value:function(){return l.a.createElement(k.Card,{style:{margin:"10px"}},l.a.createElement(k.CardImg,{width:"100%",height:"200px",src:this.props.img?this.props.img:"https://4dane94f01emxbo733yxewhi-wpengine.netdna-ssl.com/wp-content/uploads/2017/07/tradeshows_comprehensive-event-mgmt.gif",alt:"Card image cap"}),l.a.createElement(k.CardBody,null,l.a.createElement(k.CardTitle,null,this.props.name),l.a.createElement(k.CardSubtitle,{style:{marginBottom:"20px"}},this.props.meetingdate),l.a.createElement(S.a,{to:f+"/chat/"+this.props.id},l.a.createElement(k.Button,{style:{borderColor:"black",marginRight:"20px",marginTop:"3px",marginBottom:"7px",backgroundColor:"white",color:"black"}},"Chat")),l.a.createElement(S.a,{to:f+"/group/"+this.props.id},l.a.createElement(k.Button,{style:{borderColor:"black",marginRight:"20px",marginTop:"3px",marginBottom:"7px",backgroundColor:"#4E729A"}},"Details")),l.a.createElement(k.Button,{style:{borderColor:"black",marginTop:"3px",marginBottom:"7px",backgroundColor:"red"},onClick:this.leave},"Leave")))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),console.log("  ---- "+a.props.selected),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{marginLeft:"40px",width:"200px",paddingTop:"30px",color:"#4E729A",fontWeight:"bold"}},l.a.createElement(k.Row,{style:"myaccount"===this.props.selected?{marginBottom:"10px",backgroundColor:"silver"}:{marginBottom:"10px"}},l.a.createElement(S.a,{className:"layout_link text-center",to:f+"/user/"+localStorage.getItem("userId")},"My Account")),l.a.createElement(k.Row,{style:"allevents"===this.props.selected?{marginBottom:"10px",backgroundColor:"silver"}:{marginBottom:"10px"}},l.a.createElement(S.a,{className:"layout_link text-center",to:f+"/allevents"},"All Events")),l.a.createElement(k.Row,{style:"myevents"===this.props.selected?{marginBottom:"10px",backgroundColor:"silver"}:{marginBottom:"10px"}},l.a.createElement(S.a,{className:"layout_link text-center",to:f+"/myevents"},"My Events")),l.a.createElement(k.Row,{style:"mycompletedevents"===this.props.selected?{marginBottom:"10px",backgroundColor:"silver"}:{marginBottom:"10px"}},l.a.createElement(S.a,{className:"layout_link text-center",to:f+"/mycompletedevents"},"My Completed Events")),l.a.createElement(k.Row,{style:"createevent"===this.props.selected?{marginBottom:"10px",backgroundColor:"silver"}:{marginBottom:"10px"}},l.a.createElement(S.a,{className:"layout_link text-center",to:f+"/createevent"},"Create Event")))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={page:1,listt:[]},a.join=a.join.bind(Object(u.a)(Object(u.a)(a))),a.leave=a.leave.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"join",value:function(e){var t=this,a=e.target.name;console.log(JSON.stringify({id:t.state.listt[e.target.name].id,token:localStorage.getItem("token")})),b()(y+"/mainServices/event/join",{method:"POST",data:JSON.stringify({id:t.state.listt[a].id.toString(),token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e.data),t.state.listt[a].amIParticipant=!0,t.setState({listt:t.state.listt})}).catch(function(e){console.log(e.response),alert(e.response.data)})}},{key:"leave",value:function(e){var t=this,a=e.target.name;b()(y+"/mainServices/event/leave",{method:"POST",data:JSON.stringify({id:t.state.listt[a].id.toString(),token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e.data),t.state.listt[a].amIParticipant=!1,console.log(t.state.listt[a]),t.setState({listt:t.state.listt})}).catch(function(e){console.log(e.response.data),alert(e.response.data)})}},{key:"componentWillMount",value:function(){var e=this;b()(y+"/mainServices/event/getallevents",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.setState({listt:t.data})}).catch(function(t){console.log(t.response),e.setState({authorized:!1})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:e.props.logout}),l.a.createElement(k.Row,{style:{margin:"0"}},l.a.createElement(T,{selected:"allevents"}),l.a.createElement("div",{className:"border rounded",style:{marginLeft:"5%"}},l.a.createElement(k.Table,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Group #"),l.a.createElement("th",null,"Group Name"),l.a.createElement("th",null,"Date & Time"),l.a.createElement("th",null,"Location"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Points"),l.a.createElement("th",null,"Capacity"),l.a.createElement("th",null,"current size"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,e.state.listt.map(function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("th",{scope:"row"},a),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.meetingdate),l.a.createElement("td",null,t.location),l.a.createElement("td",null,t.price),l.a.createElement("td",null,t.points),l.a.createElement("td",null,t.maxsize),l.a.createElement("td",null,t.currentSize),l.a.createElement("td",null,l.a.createElement(S.a,{style:{marginRight:"5px",marginBottom:"7px"},to:f+"/group/"+t.id},l.a.createElement(k.Button,{style:{borderColor:"black",color:"white",backgroundColor:"#4E729A"}},"Details")),l.a.createElement(k.Button,{hidden:t.amIParticipant,onClick:e.join,name:a,style:{backgroundColor:"green",borderColor:"black"}},"join"),l.a.createElement(k.Button,{hidden:!t.amIParticipant,onClick:e.leave,name:a,style:{backgroundColor:"red",borderColor:"black"}},"leave")))}))))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={page:1,list:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;b()(y+"/mainServices/event/getmyactiveevents",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log("my List:"),console.log(t.data),e.setState({list:t.data})}).catch(function(t){console.log(t),e.setState({authorized:!1})})}},{key:"removeEvent",value:function(e){this.state.list.splice(e,1),this.setState({list:this.state.list})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:e.props.logout}),l.a.createElement(k.Row,{style:{margin:"0"}},l.a.createElement(T,{selected:"myevents"}),l.a.createElement(k.Container,{className:"border rounded",style:{width:"78%"}},l.a.createElement(k.Row,{style:{width:"100%"}},e.state.list.map(function(t,a){return l.a.createElement(k.Col,{md:"4",key:t.id},l.a.createElement(N,{name:t.name,id:t.id,description:t.description,meetingdate:t.meetingdate,img:t.img,ind:a,removeEvent:e.removeEvent.bind(e)}))})))))}}]),t}(n.Component),M=(a(52),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={name:"",date:"",time:"",description:"",location:"",price:0,points:0,img:"",msg:"",participants:"",errormsg:!1,createmsg:!1,datemsg:!1},a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.send=a.send.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){switch(e.target.name){case"name":this.setState({name:e.target.value});break;case"location":this.setState({location:e.target.value});break;case"date":console.log(" -----  "+e.target.value),this.setState({date:e.target.value});break;case"time":console.log("***********"+e.target.value.toString().split(":").join("-")),this.setState({time:e.target.value});break;case"description":this.setState({description:e.target.value});break;case"price":this.setState({price:e.target.value});break;case"points":this.setState({points:e.target.value});break;case"img":this.setState({img:e.target.value});break;case"participants":this.setState({participants:e.target.value})}}},{key:"send",value:function(){var e=this;Date.parse(e.state.date+"T"+e.state.time)<=Date.now()?(e.setState({datemsg:!0}),e.setState({errormsg:!1}),e.setState({createmsg:!1})):b()(y+"/mainServices/event/create",{method:"POST",data:JSON.stringify({name:e.state.name,meetingdate:e.state.date+" "+e.state.time.toString().split(":").join("-"),description:e.state.description,location:e.state.location,price:e.state.price+"",points:e.state.points+"",maxsize:e.state.participants+"",img:e.state.img,token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),e.setState({name:""}),e.setState({createmsg:!0}),e.setState({datemsg:!1}),e.setState({errormsg:!1})}).catch(function(t){console.log(t),e.setState({errormsg:!0}),e.setState({createmsg:!1}),e.setState({datemsg:!1})})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(k.Row,{style:{margin:"0"}},l.a.createElement(T,{selected:"createevent"}),l.a.createElement(j.AvForm,{id:"eventCreate",style:{marginTop:"10px",marginLeft:"10%",marginBottom:"80px",width:"50%"}},l.a.createElement(k.Label,{for:"name"},"Name of the Event ",l.a.createElement("span",null,"*")),l.a.createElement(j.AvField,{name:"name",id:"name",onChange:this.handleChange,type:"text",required:!0,value:this.state.name,errorMessage:"Name of the event should be at least 1 character",validate:{required:{value:!0},minLength:{value:1}}}),l.a.createElement(k.Label,{for:"location"},"Location ",l.a.createElement("span",null,"*")),l.a.createElement(j.AvField,{name:"location",id:"location",onChange:this.handleChange,type:"text",value:this.state.location,errorMessage:"Location should be at least 1 character",validate:{required:{value:!0},minLength:{value:2}},required:!0}),l.a.createElement(j.AvField,{name:"description",label:"Description",id:"description",onChange:this.handleChange,type:"textarea",value:this.state.description}),l.a.createElement(k.Label,{for:"date"},"Date ",l.a.createElement("span",null,"*")),l.a.createElement(j.AvField,{name:"date",id:"date",onChange:this.handleChange,type:"date",value:this.state.date,errorMessage:"Name should contain at least 2 characters"}),l.a.createElement(k.Label,{for:"time"},"Time ",l.a.createElement("span",null,"*")),l.a.createElement(j.AvInput,{name:"time",id:"time",onChange:this.handleChange,type:"time",value:this.state.time,required:!0}),l.a.createElement(k.Label,{for:"price"},"Price (at least 0)",l.a.createElement("span",null,"*")),l.a.createElement(j.AvField,{name:"price",id:"price",onChange:this.handleChange,type:"number",value:this.state.price,min:"0",required:!0}),l.a.createElement(k.Label,{for:"points"},"Points (at least 0)",l.a.createElement("span",null,"*")),l.a.createElement(j.AvField,{name:"points",id:"points",onChange:this.handleChange,type:"number",value:this.state.points,min:"0",required:!0}),l.a.createElement(k.Label,{for:"participants"},"Maximum number of participants (at least 2)",l.a.createElement("span",null,"*")),l.a.createElement(j.AvField,{name:"participants",id:"participants",onChange:this.handleChange,type:"number",value:this.state.participants,min:"2",required:!0}),l.a.createElement(j.AvField,{name:"img",label:"Link to image",id:"img",onChange:this.handleChange,type:"text",value:this.state.img}),l.a.createElement("div",{className:"eventCreated",style:{display:this.state.createmsg?"block":"none"}},l.a.createElement("div",{className:"alert alert-success"},"Event successfully created!")),l.a.createElement("div",{className:"eventExists",style:{display:this.state.errormsg?"block":"none"}},l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Event for this date and time already reserved! Enter another, please!")),l.a.createElement("div",{className:"dateExpired",style:{display:this.state.datemsg?"block":"none"}},l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Date is from past! Choose future date!")),l.a.createElement(k.Button,{style:{backgroundColor:"#2A5885"},onClick:this.send,disabled:!w.validEventParticipants(this.state.participants)||!w.validEventPoints(this.state.points)||!w.validEventPrice(this.state.price)||!w.validEventTime(this.state.time)||!w.validEventDate(this.state.date)||!w.validImageURL(this.state.img)||!w.validEventLocation(this.state.location)||!w.validEventName(this.state.name)},"Submit"))))}}]),t}(n.Component)),R=(n.Component,function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{border:"1px solid #909090",borderRadius:"10px",width:"60%",paddingLeft:"10px",paddingRight:"10px",backgroundColor:this.props.color,display:"inline-block"}},l.a.createElement("p",{className:"text-left",style:{marginBottom:0,color:"#4E729A",fontWeight:"bold"}},this.props.author),l.a.createElement("p",{className:"text-left",style:{marginBottom:0,paddingLeft:"10px"}},this.props.message),l.a.createElement("p",{className:"text-right",style:{marginBottom:0,color:"#777777"}},this.props.time))}}]),t}(n.Component)),D=a(329);function z(e,t){!function e(t,a){setTimeout(function(){if(1===t.readyState)return console.log("Connection is made"),void(null!=a&&a());console.log("wait for connection..."),e(t,a)},5)}(e,function(){console.log("message sent!!!"),e.send(t)})}var F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={msg:"",history:[],data:{name:""}},a.sendMsg=a.sendMsg.bind(Object(u.a)(Object(u.a)(a))),a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("chatContainer");e.scrollTop=e.scrollHeight}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("chatContainer");e.scrollTop=e.scrollHeight}},{key:"componentWillMount",value:function(){var e=this.props.match.params,t=this;b()(y+"/mainServices/event/getEventById",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token"),id:e.id.toString()}),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e.data),t.setState({data:e.data})}).catch(function(e){console.log(e)}),this.props.setOnMsg(function(a){var n=JSON.parse(a.data);console.log("    -"),"history"===n.type&&n.eventId===parseInt(e.id)&&n.data.length>0?t.setState({history:n.data}):"message"===n.type&&n.eventId===parseInt(e.id)&&(console.log(n.data[0]),t.setState({history:t.state.history.concat(n.data)}))}),z(this.props.socket,JSON.stringify({type:"history",token:localStorage.getItem("token"),eventId:e.id}))}},{key:"sendMsg",value:function(){var e=this.props.match.params,t={type:"message",token:localStorage.getItem("token"),eventId:e.id,msg:this.state.msg};z(this.props.socket,JSON.stringify(t)),this.setState({msg:""}),console.log("sent")}},{key:"sendMsg2",value:function(e){if(13==e.keyCode){var t=this.props.match.params,a={type:"message",token:localStorage.getItem("token"),eventId:t.id,msg:this.state.msg};z(this.props.socket,JSON.stringify(a)),this.setState({msg:""}),console.log("sent")}}},{key:"handleChange",value:function(e){switch(e.target.name){case"newMsg":this.setState({msg:e.target.value})}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:e.props.logout}),l.a.createElement(k.Row,{style:{margin:"0"}},l.a.createElement(T,{selected:""}),l.a.createElement(k.Container,{style:{border:"1px solid #909090",borderRadius:"5px",padding:"0px",width:"100%"}},l.a.createElement(k.Row,{style:{borderBottom:"1px solid #C3CBD4",backgroundColor:"#4E729A",color:"white",paddingLeft:"420px",fontSize:"40px",fontFamily:"bold",width:"100%",margin:"0px"}},e.state.data.name),l.a.createElement(k.Container,{id:"chatContainer",className:"text-center"},e.state.history.map(function(t){return l.a.createElement("div",{key:t.id,className:t.author.email===e.props.user?"text-right":"text-left",style:{margin:"10px"}},l.a.createElement(R,{color:t.author.email===e.props.user?"#edf0f5":"white",author:t.author.email,message:t.msg,time:t.date}))})),l.a.createElement(k.Row,{style:{borderTop:"1px solid #C3CBD4",backgroundColor:"#F3F3F3",paddingTop:"10px",paddingBottom:"5px",margin:"0px"}},l.a.createElement(k.Col,{md:"10"},l.a.createElement("textarea",{onKeyUp:e.sendMsg2.bind(e),onChange:e.handleChange,name:"newMsg",style:{width:"90%",padding:"5px",borderRadius:"5px"},value:e.state.msg})),l.a.createElement(k.Button,{disabled:""===e.state.msg,onClick:e.sendMsg,type:"submit",style:{height:"45px",marginTop:"7px",backgroundColor:"#4E729A"}},"Send message")))))}}]),t}(n.Component),J=Object(D.a)(F),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={participants:[],ready:!1},a.getData=a.getData.bind(Object(u.a)(Object(u.a)(a))),a.containsMe=a.containsMe.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getData",value:function(){var e=this,t=this.props.match.params;b()(y+"/mainServices/event/getEventById",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token"),id:t.id.toString()}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.setState(t.data),e.setState({ready:!0}),e.containsMe()}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(){this.getData()}},{key:"join",value:function(){var e=this;b()(y+"/mainServices/event/join",{method:"POST",data:JSON.stringify({id:e.state.id.toString(),token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.getData()}).catch(function(e){console.log(e.response),alert(e.response.data)})}},{key:"leave",value:function(){var e=this;b()(y+"/mainServices/event/leave",{method:"POST",data:JSON.stringify({id:e.state.id.toString(),token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.getData()}).catch(function(e){console.log(e.response.data),alert(e.response.data)})}},{key:"complete",value:function(){var e=this;b()(y+"/mainServices/event/completeEvent",{method:"POST",data:JSON.stringify({id:e.state.id.toString(),token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.getData()}).catch(function(e){console.log(e.response.data),alert(e.response.data)})}},{key:"containsMe",value:function(){var e=this,t=!1;this.state.participants.forEach(function(a){a.id.toString()===localStorage.getItem("userId").toString()&&(t=!0,e.setState({containsMe:!0}))}),t||e.setState({containsMe:!1})}},{key:"render",value:function(){return this.state.ready?l.a.createElement("div",null,l.a.createElement(O,{id:"groupPage",auth:!0}),l.a.createElement(k.Row,null,l.a.createElement(T,{selected:""}),l.a.createElement(k.Container,{id:"groupPage",style:{width:"78%"}},l.a.createElement(k.Row,null,l.a.createElement("h1",{style:{color:"#2B587A"}},this.state.name)," ",l.a.createElement(k.Button,{hidden:this.state.containsMe||this.state.isCompleted,onClick:this.join.bind(this),style:{marginLeft:"10px",height:"90%",marginTop:"10px",backgroundColor:"green",borderColor:"black"}},"Join"),l.a.createElement(k.Button,{hidden:!this.state.containsMe,onClick:this.leave.bind(this),style:{marginLeft:"10px",height:"90%",marginTop:"10px",backgroundColor:"red",borderColor:"black"}},"Leave"),l.a.createElement(S.a,{hidden:!this.state.containsMe,to:f+"/chat/"+this.state.id,style:{marginLeft:"10px",color:"white",marginTop:"10px",height:"90%"}},l.a.createElement(k.Button,{style:{backgroundColor:"#4E729A"}},"Chat")),l.a.createElement(k.Button,{hidden:this.state.admin.toLowerCase()!==localStorage.getItem("email").toLowerCase()||this.state.isCompleted,onClick:this.complete.bind(this),style:{marginLeft:"10px",height:"90%",marginTop:"10px",backgroundColor:"orange",borderColor:"black"}},"Completed")),l.a.createElement(k.Row,null,l.a.createElement("img",{src:this.state.img?this.state.img:"https://4dane94f01emxbo733yxewhi-wpengine.netdna-ssl.com/wp-content/uploads/2017/07/tradeshows_comprehensive-event-mgmt.gif",style:{height:"200px",width:"322px",border:"1px groove black"}})),l.a.createElement(k.Row,{hidden:!this.state.isCompleted},l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Completed"))),l.a.createElement(k.Row,null,l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Date:")," ",this.state.meetingdate)),l.a.createElement(k.Row,null,l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Location:")," ",this.state.location)),l.a.createElement(k.Row,null,l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Points:")," ",this.state.points)),l.a.createElement(k.Row,null,l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Description:")," ",this.state.description)),l.a.createElement(k.Row,null,l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Admin:")," ",this.state.admin)),l.a.createElement(k.Row,null,l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Participants:"))),l.a.createElement(k.Row,null,l.a.createElement("ul",null,this.state.participants.map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement(S.a,{to:f+"/user/"+e.id},e.email))}))),l.a.createElement(k.Row,null,l.a.createElement("p",null,l.a.createElement("b",{style:{color:"#2B587A"}},"Number of participants:")," ",this.state.participants.length,"/",this.state.maxsize))))):l.a.createElement("h1",null,"Loading ....")}}]),t}(n.Component),U=Object(D.a)(q),W=function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).props.match.params;return a.state={ready:!1,id:n.id.toString()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params;b()(y+"/mainServices/user/getUserInfoById",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token"),id:t.id}),headers:{"Content-Type":"application/json"}}).then(function(a){console.log(a.data),e.setState(a.data),b()(y+"/mainServices/event/getUserEvents",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token"),id:t.id.toString()}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.setState({events:t.data}),e.setState({ready:!0})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return this.state.ready?l.a.createElement("div",null,l.a.createElement(O,{id:"groupPage",auth:!0}),l.a.createElement(k.Row,null,l.a.createElement(T,{selected:this.state.id.toString()===localStorage.getItem("userId").toString()?"myaccount":""}),l.a.createElement(k.Container,{id:"groupPage",style:{width:"78%"}},l.a.createElement("h2",null,this.state.name," ",this.state.surname),l.a.createElement("hr",null),l.a.createElement("p",{style:{color:"#2a5885"}},l.a.createElement("span",{style:{color:"#828282"}},"Email:"),this.state.email),l.a.createElement("p",{style:{color:"#2a5885"}},l.a.createElement("span",{style:{color:"#828282"}},"Score:"),this.state.score),l.a.createElement("hr",null),l.a.createElement("div",{style:{border:"1px solid #2a5885",padding:"10px",borderRadius:"5px"}},l.a.createElement("p",{style:{color:"#2a5885",fontWeight:"bold"}},"Events"),l.a.createElement("hr",null),l.a.createElement(k.Row,{style:{width:"100%"}},l.a.createElement("div",{className:"border rounded",style:{marginLeft:"5%"}},l.a.createElement(k.Table,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Group #"),l.a.createElement("th",null,"Group Name"),l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Location"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Points"),l.a.createElement("th",null,"Capacity"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,this.state.events.map(function(e,t){return l.a.createElement("tr",{key:t,style:e.isCompleted?{backgroundColor:"SILVER"}:{}},l.a.createElement("th",{scope:"row"},t),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.meetingdate),l.a.createElement("td",null,e.location),l.a.createElement("td",null,e.price),l.a.createElement("td",null,e.points),l.a.createElement("td",null,e.maxsize),l.a.createElement("td",null,l.a.createElement(S.a,{style:{color:"white",marginBottom:"7px"},to:f+"/group/"+e.id},l.a.createElement(k.Button,{style:{backgroundColor:"#4E729A"}},"Details"))))}))))))))):l.a.createElement("h1",null,"Loading ...")}}]),t}(n.Component),Z=Object(D.a)(W),H=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(k.Card,{style:{margin:"10px"}},l.a.createElement(k.CardImg,{width:"100%",height:"200px",src:this.props.img,alt:"Card image cap"}),l.a.createElement(k.CardBody,null,l.a.createElement(k.CardTitle,null,this.props.name),l.a.createElement(k.CardSubtitle,{style:{marginBottom:"20px"}},this.props.meetingdate),l.a.createElement(S.a,{to:f+"/group/"+this.props.id},l.a.createElement(k.Button,{style:{borderColor:"black",marginRight:"20px",marginTop:"3px",marginBottom:"7px",backgroundColor:"#4E729A"}},"Details"))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={page:1,list:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;b()(y+"/mainServices/event/getmypassiveevents",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log("my List:"),console.log(t.data),e.setState({list:t.data})}).catch(function(t){console.log(t),e.setState({authorized:!1})})}},{key:"removeEvent",value:function(e){this.state.list.splice(e,1),this.setState({list:this.state.list})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:e.props.logout}),l.a.createElement(k.Row,{style:{margin:"0"}},l.a.createElement(T,{selected:"mycompletedevents"}),l.a.createElement(k.Container,{className:"border rounded",style:{width:"78%"}},l.a.createElement(k.Row,{style:{width:"100%"}},e.state.list.map(function(t,a){return l.a.createElement(k.Col,{md:"4",key:t.id},l.a.createElement(H,{name:t.name,id:t.id,description:t.description,meetingdate:t.meetingdate,img:"https://previews.123rf.com/images/kchung/kchung1403/kchung140300771/27140587-%EC%8A%A4%ED%83%AC%ED%94%84-%ED%9D%B0%EC%83%89-%EB%B0%B0%EA%B2%BD-%EC%9C%84%EC%97%90-%EB%B9%A8%EA%B0%84%EC%83%89-%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%A1%9C-%EC%99%84%EB%A3%8C.jpg",ind:a,removeEvent:e.removeEvent.bind(e)}))})))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={isAdmin:null,color1:"#4E729A",color2:"white",color3:"white",color4:"white",st:1,log:"Loading ..."},a.select1=a.select1.bind(Object(u.a)(Object(u.a)(a))),a.select2=a.select2.bind(Object(u.a)(Object(u.a)(a))),a.select3=a.select3.bind(Object(u.a)(Object(u.a)(a))),a.select4=a.select4.bind(Object(u.a)(Object(u.a)(a))),a.setLogByCategory=a.setLogByCategory.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"setLogByCategory",value:function(e){var t=this;b()(y+"/mainServices/log/admin",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token"),categories:e}),headers:{"Content-Type":"application/json"}}).then(function(e){t.setState({log:e.data})}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(){var e=this;b()(y+"/mainServices/log/checkAdmin",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.setState({isAdmin:!0}),e.select1()}).catch(function(t){console.log(t),e.setState({isAdmin:!1})})}},{key:"componentDidUpdate",value:function(){if(this.state.isAdmin){var e=document.getElementById("logs");e.scrollTop=e.scrollHeight}}},{key:"select1",value:function(){this.setState({log:"Loading ..."}),this.setState({color1:"#4E729A",color2:"white",color3:"white",color4:"white",st:1}),this.setLogByCategory("api")}},{key:"select2",value:function(){this.setState({log:"Loading ..."}),this.setState({color1:"white",color2:"#4E729A",color3:"white",color4:"white",st:2}),this.setLogByCategory("db")}},{key:"select3",value:function(){this.setState({log:"Loading ..."}),this.setState({color1:"white",color2:"white",color3:"#4E729A",color4:"white",st:3}),this.setLogByCategory("chat")}},{key:"select4",value:function(){this.setState({log:"Loading ..."}),this.setState({color1:"white",color2:"white",color3:"white",color4:"#4E729A",st:4}),this.setLogByCategory("util")}},{key:"render",value:function(){return null==this.state.isAdmin?l.a.createElement("h1",null,"Loading ..."):this.state.isAdmin?1==this.state.st?l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(k.Container,{className:"table"},l.a.createElement(k.Row,null,l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color1},onClick:this.select1},l.a.createElement("h4",null,"API"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color2},onClick:this.select2},l.a.createElement("h4",null,"DB"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color3},onClick:this.select3},l.a.createElement("h4",null,"CHAT"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color4},onClick:this.select4},l.a.createElement("h4",null,"UTIL")))),l.a.createElement("pre",{id:"logs"},this.state.log))):2==this.state.st?l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(k.Container,{className:"table"},l.a.createElement(k.Row,null,l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color1},onClick:this.select1},l.a.createElement("h4",null,"API"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color2},onClick:this.select2},l.a.createElement("h4",null,"DB"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color3},onClick:this.select3},l.a.createElement("h4",null,"CHAT"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color4},onClick:this.select4},l.a.createElement("h4",null,"UTIL")))),l.a.createElement("pre",{id:"logs"},this.state.log))):3==this.state.st?l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(k.Container,{className:"table"},l.a.createElement(k.Row,null,l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color1},onClick:this.select1},l.a.createElement("h4",null,"API"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color2},onClick:this.select2},l.a.createElement("h4",null,"DB"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color3},onClick:this.select3},l.a.createElement("h4",null,"CHAT"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color4},onClick:this.select4},l.a.createElement("h4",null,"UTIL")))),l.a.createElement("pre",{id:"logs"},this.state.log))):4==this.state.st?l.a.createElement("div",null,l.a.createElement(O,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(k.Container,{className:"table"},l.a.createElement(k.Row,null,l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color1},onClick:this.select1},l.a.createElement("h4",null,"API"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color2},onClick:this.select2},l.a.createElement("h4",null,"DB"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color3},onClick:this.select3},l.a.createElement("h4",null,"CHAT"))),l.a.createElement(k.Col,{sm:"3"},l.a.createElement(k.Button,{color:"primary",style:{width:"100%",background:this.state.color4},onClick:this.select4},l.a.createElement("h4",null,"UTIL")))),l.a.createElement("pre",{id:"logs"},this.state.log))):void 0:l.a.createElement("h2",null,"You are not authorized to access this page")}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={authorized:null,user:"",socketReady:!1,onMsg:function(e){console.log(e)}},a.login=a.login.bind(Object(u.a)(Object(u.a)(a))),a.logout=a.logout.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(y+"/mainServices/auth/checktoken"),null!=localStorage.getItem("token")?b()(y+"/mainServices/auth/checktoken",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),localStorage.setItem("email",t.data[0]),localStorage.setItem("userId",t.data[1]),e.login(t.data[0].toLowerCase())}).catch(function(t){console.log(t),e.setState({authorized:!1})}):e.setState({authorized:!1})}},{key:"setOnMsg",value:function(e){this.setState({onMsg:e})}},{key:"login",value:function(e){var t=this;this.socket=new WebSocket(C),this.socket.onmessage=function(e){t.state.onMsg(e)},console.log(e),localStorage.setItem("email",e),this.setState({authorized:!0,user:e})}},{key:"logout",value:function(){localStorage.setItem("token",""),this.setState({authorized:!1})}},{key:"render",value:function(){var e=this,t=this;return null==this.state.authorized?l.a.createElement("h1",null,"Loading ... "):l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement(g.a,null,l.a.createElement(p.a,{exact:!0,path:f+"/dashboard",render:function(){return t.state.authorized?l.a.createElement(A,{user:t.state.user,logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/chat/:id",render:function(){return t.state.authorized?l.a.createElement(J,{setOnMsg:t.setOnMsg.bind(e),socket:e.socket,user:t.state.user,logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/group/:id",render:function(){return t.state.authorized?l.a.createElement(U,{user:t.state.user,logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/user/:id",render:function(){return t.state.authorized?l.a.createElement(Z,{user:t.state.user,logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/myevents",render:function(){return t.state.authorized?l.a.createElement(P,{logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/mycompletedevents",render:function(){return t.state.authorized?l.a.createElement($,{logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/signin",render:function(){return t.state.authorized?l.a.createElement(E.a,{to:f+"/myevents"}):l.a.createElement(x,{login:t.login.bind(e)})}}),l.a.createElement(p.a,{exact:!0,path:f+"/signup",render:function(){return t.state.authorized?l.a.createElement(E.a,{to:f+"/myevents"}):l.a.createElement(B,{login:t.login.bind(e)})}}),l.a.createElement(p.a,{exact:!0,path:f+"/allevents",render:function(){return t.state.authorized?l.a.createElement(L,{logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/createevent",render:function(){return t.state.authorized?l.a.createElement(M,{logout:t.logout.bind(e)}):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:f+"/admin",render:function(){return t.state.authorized?l.a.createElement(_,null):l.a.createElement(E.a,{to:f+"/signin"})}}),l.a.createElement(p.a,{path:f+"/",render:function(){return l.a.createElement(E.a,{to:f+"/signin"})}}))),l.a.createElement(I,null))}}]),t}(l.a.Component);a(321);r.a.render(l.a.createElement(G,null),document.getElementById("root"))}},[[143,2,1]]]);
//# sourceMappingURL=main.00e2c875.chunk.js.map