(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){e.exports=a(321)},321:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(33),l=a.n(s),i=a(7),o=a(8),c=a(14),m=a(15),u=a(16),d=a(324),h=a(326),p=a(325),g=a(323),v=a(44),b=a.n(v),E="http://192.168.0.105:9090/aintrovert",f="/aintrovert",w=(n.Component,a(11)),O=a(4),y=a(322),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(w.a)(Object(w.a)(a))),a.state={isOpen:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(O.Navbar,{color:"light",light:!0,expand:"md"},r.a.createElement(O.NavbarBrand,{href:"/"},"AIntrovert"),r.a.createElement(O.NavbarToggler,{onClick:this.toggle}),r.a.createElement(O.Collapse,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(O.Nav,{className:"ml-auto",navbar:!0},r.a.createElement(O.UncontrolledDropdown,{nav:!0,inNavbar:!0},r.a.createElement(O.DropdownToggle,{nav:!0,caret:!0},"Options"),r.a.createElement(O.DropdownMenu,{right:!0},r.a.createElement(O.DropdownItem,null,"Option 1"),r.a.createElement(O.DropdownItem,null,"Option 2"),r.a.createElement(O.DropdownItem,{divider:!0}),r.a.createElement(O.DropdownItem,null,"Reset"))),!this.props.auth&&r.a.createElement(r.a.Fragment,null,"signin"!==this.props.id?r.a.createElement(O.NavItem,null,r.a.createElement(y.a,{className:"nav",to:f+"/signin"},"Sign In")):"","signup"!==this.props.id?r.a.createElement(O.NavItem,null,r.a.createElement(y.a,{to:f+"/signup"},"Sign Up")):""),this.props.auth&&"dashboard"!==this.props.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.NavItem,null,r.a.createElement(y.a,{to:f+"/dashboard"},"Dashboard"))),this.props.auth&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.NavItem,{className:"btn btn-link",onClick:this.props.logout},"Sign Out")))))}}]),t}(n.Component),C=a(20),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:""},a.signin=a.signin.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"signin",value:function(){var e=this;b()(E+"/mainServices/auth/signin",{method:"POST",data:JSON.stringify({email:e.state.email,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then(function(t){localStorage.setItem("token",t.data),e.props.login(e.state.email)}).catch(function(e){console.log(e)})}},{key:"handleChange",value:function(e){switch(e.target.name){case"email":this.setState({email:e.target.value});break;case"password":this.setState({password:e.target.value})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{id:"signin",auth:!1}),r.a.createElement("div",{className:"container text-center",style:{marginTop:"20px",width:"500px"}},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{style:{marginLeft:"190px"}},"Sign In")),r.a.createElement(C.AvForm,{id:"loginForm",style:{marginTop:"80px",marginBottom:"80px"}},r.a.createElement("div",{className:"incorrectEmailPasswordError",style:{display:this.state.errormsg?"block":"none"}},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Invalid login! Try again")),r.a.createElement(C.AvField,{name:"email",label:"Email",onChange:this.handleChange,type:"email",value:this.state.email}),r.a.createElement(C.AvField,{name:"password",label:"Password",onChange:this.handleChange,type:"text",value:this.state.password}),r.a.createElement(O.Button,{color:"primary",onClick:this.signin},"Submit"))))}}]),t}(n.Component),S=function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,null,[{key:"validateEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=\S+$)(?=.{8,})/.test(String(e))}}]),e}(),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={name:"",surname:"",email:"",password:"",passwordConfirm:"",sendDisabled:!0},a.signup=a.signup.bind(Object(w.a)(Object(w.a)(a))),a.handleChange=a.handleChange.bind(Object(w.a)(Object(w.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"signup",value:function(){var e=this;b()(E+"/mainServices/auth/signup",{method:"POST",data:JSON.stringify({name:e.state.name,surname:e.state.surname,email:e.state.email,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),localStorage.setItem("token",t.data),e.props.login(e.state.email)}).catch(function(e){console.log(e)})}},{key:"handleChange",value:function(e){switch(e.target.name){case"name":this.setState({name:e.target.value});break;case"surname":this.setState({surname:e.target.value});break;case"email":this.setState({email:e.target.value});break;case"password":this.setState({password:e.target.value});break;case"passwordConfirm":this.setState({passwordConfirm:e.target.value})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{id:"signup",auth:!1}),r.a.createElement("div",{className:"container text-center",style:{paddingTop:"20px",width:"500px"}},r.a.createElement("div",{className:"row"},r.a.createElement("h2",{style:{marginLeft:"80px",marginBottom:"20px"}},"Registratsiya zhasa")),r.a.createElement(C.AvForm,{id:"registerForm",style:{marginTop:"80px",marginBottom:"80px"}},r.a.createElement("div",{className:"userExists",style:{display:this.state.errormsg?"block":"none"}},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Entered email already exists! Enter another email")),r.a.createElement(C.AvField,{name:"name",label:"Name",id:"name",onChange:this.handleChange,type:"text",value:this.state.name,errorMessage:"Name should contain at least 2 characters",validate:{required:{value:!0},pattern:{value:"[A-Z]{1}[a-z]",errorMessage:"Name should be in latin alphabetic starting with the first capital letter"},minLength:{value:2}}}),r.a.createElement(C.AvField,{name:"surname",label:"Surname",id:"surname",onChange:this.handleChange,type:"text",value:this.state.surname,errorMessage:"Surname should contain at least 1 character",validate:{required:{value:!0},pattern:{value:"[A-Z]{1}[a-z]",errorMessage:"Surname should be in latin alphabetic starting with the first capital letter"},minLength:{value:1}}}),r.a.createElement(C.AvField,{name:"email",label:"Email",onChange:this.handleChange,type:"email",value:this.state.email,errorMessage:"Invalid email format",validate:{required:{value:!0},pattern:{value:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$',errorMessage:"Invalid email"}}}),r.a.createElement(C.AvField,{name:"password",label:"Password",onChange:this.handleChange,type:"password",value:this.state.password,errorMessage:"Your password should contain at least 8 characters",validate:{required:{value:!0},pattern:{value:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=\\S+$)(?=.{8,})",errorMessage:"Minimum 8 characters, at least 1 uppercase, 1 lowercase and 1 number. No whitespaces allowed!"}}}),r.a.createElement(C.AvField,{name:"passwordConfirm",label:"Confirm password",onChange:this.handleChange,type:"password",value:this.state.passwordConfirm,errorMessage:"Passwords do not match",validate:{required:{value:!0},pattern:{value:this.state.password}}}),r.a.createElement(O.Button,{color:"primary",onClick:this.signup,disabled:!S.validateEmail(this.state.email)||!S.validatePassword(this.state.password)||this.state.password!==this.state.passwordConfirm},"Submit"))))}}]),t}(n.Component),x=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,{id:"dashboard",auth:!0,logout:this.props.logout}),r.a.createElement("h1",null,"Dashboard Page. Wellcome, ",this.props.user,"!"))}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.Card,null,r.a.createElement(O.CardFooter,{className:"text-muted text-center"},"\xa9 2018 ",r.a.createElement("span",{style:{color:"#0000ff"}},"AIntrovert")," All Rights Reserved")))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={authorized:null,user:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(E+"/mainServices/auth/checktoken"),null!=localStorage.getItem("token")?b()(E+"/mainServices/auth/checktoken",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.login(t.data)}).catch(function(t){console.log(t),e.setState({authorized:!1})}):e.setState({authorized:!1})}},{key:"login",value:function(e){console.log(e),this.setState({authorized:!0,user:e})}},{key:"logout",value:function(){localStorage.setItem("token",""),this.setState({authorized:!1})}},{key:"render",value:function(){var e=this,t=this;return null==this.state.authorized?r.a.createElement("h1",null,"Loading ... "):r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:f+"/dashboard",render:function(){return t.state.authorized?r.a.createElement(x,{user:t.state.user,logout:t.logout.bind(e)}):r.a.createElement(g.a,{to:f+"/signin"})}}),r.a.createElement(p.a,{exact:!0,path:f+"/signin",render:function(){return t.state.authorized?r.a.createElement(g.a,{to:f+"/dashboard"}):r.a.createElement(k,{login:t.login.bind(e)})}}),r.a.createElement(p.a,{exact:!0,path:f+"/signup",render:function(){return t.state.authorized?r.a.createElement(g.a,{to:f+"/dashboard"}):r.a.createElement(N,{login:t.login.bind(e)})}}),r.a.createElement(p.a,{path:f+"/",render:function(){return r.a.createElement(g.a,{to:f+"/signin"})}}))),r.a.createElement(I,null))}}]),t}(r.a.Component);a(319);l.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[141,2,1]]]);
//# sourceMappingURL=main.c83c38d2.chunk.js.map