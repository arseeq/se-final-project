(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){e.exports=a(321)},321:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(34),o=a.n(r),i=a(7),s=a(8),c=a(9),m=a(10),u=a(11),d=a(324),h=a(326),p=a(325),g=a(323),E=a(18),b=a.n(E),v="http://192.168.0.105:9090/aintrovert",C="/aintrovert",y="ws://192.168.0.105:10001",f=(n.Component,a(5)),O=a(2),k=a(322),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggle=a.toggle.bind(Object(f.a)(Object(f.a)(a))),a.state={isOpen:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement(O.Navbar,{color:"light",light:!0,expand:"md"},l.a.createElement(O.NavbarBrand,{href:"/"},"AIntrovert"),l.a.createElement(O.NavbarToggler,{onClick:this.toggle}),l.a.createElement(O.Collapse,{isOpen:this.state.isOpen,navbar:!0},l.a.createElement(O.Nav,{className:"ml-auto",navbar:!0},l.a.createElement(O.UncontrolledDropdown,{nav:!0,inNavbar:!0},l.a.createElement(O.DropdownToggle,{nav:!0,caret:!0},"Options"),l.a.createElement(O.DropdownMenu,{right:!0},l.a.createElement(O.DropdownItem,null,"Option 1"),l.a.createElement(O.DropdownItem,null,"Option 2"),l.a.createElement(O.DropdownItem,{divider:!0}),l.a.createElement(O.DropdownItem,null,"Reset"))),!this.props.auth&&l.a.createElement(l.a.Fragment,null,"signin"!==this.props.id?l.a.createElement(O.NavItem,null,l.a.createElement(k.a,{className:"nav",to:C+"/signin"},"Sign In")):"","signup"!==this.props.id?l.a.createElement(O.NavItem,null,l.a.createElement(k.a,{to:C+"/signup"},"Sign Up")):""),this.props.auth&&"dashboard"!==this.props.id&&l.a.createElement(l.a.Fragment,null,l.a.createElement(O.NavItem,null,l.a.createElement(k.a,{to:C+"/dashboard"},"Dashboard"))),this.props.auth&&l.a.createElement(l.a.Fragment,null,l.a.createElement(O.NavItem,{className:"btn btn-link",onClick:this.props.logout},"Sign Out")))))}}]),t}(n.Component),S=a(21),w=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"validateEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=\S+$)(?=.{8,})/.test(String(e))}},{key:"validName",value:function(e){return/^([A-Z][a-z]+$)/.test(String(e))}},{key:"validImageURL",value:function(e){return/(http(s?):)([\/|.|\w|\s|-])*\.(?:jpg|gif|png)/.test(String(e))||0===e.length}}]),e}(),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:"",errormsg:!1},a.signin=a.signin.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"signin",value:function(){if(w.validateEmail(this.state.email)&&w.validatePassword(this.state.password)){var e=this;b()(v+"/mainServices/auth/signin",{method:"POST",data:JSON.stringify({email:e.state.email,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then(function(t){localStorage.setItem("token",t.data),localStorage.setItem("email",e.state.email),e.props.login(e.state.email)}).catch(function(t){console.log(t),e.setState({errormsg:!0})})}else e.setState({errormsg:!0})}},{key:"handleChange",value:function(e){switch(e.target.name){case"email":this.setState({email:e.target.value});break;case"password":this.setState({password:e.target.value})}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j,{id:"signin",auth:!1}),l.a.createElement("div",{className:"container text-center",style:{marginTop:"20px",width:"500px"}},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{style:{marginLeft:"190px"}},"Sign In")),l.a.createElement(S.AvForm,{id:"loginForm",style:{marginTop:"80px",marginBottom:"80px"}},l.a.createElement("div",{className:"incorrectEmailPasswordError",style:{display:this.state.errormsg?"block":"none"}},l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Invalid login! Try again")),l.a.createElement(S.AvField,{name:"email",label:"Email",onChange:this.handleChange,type:"email",value:this.state.email}),l.a.createElement(S.AvField,{name:"password",label:"Password",onChange:this.handleChange,type:"password",value:this.state.password}),l.a.createElement(O.Button,{color:"primary",onClick:this.signin},"Submit"))))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={name:"",surname:"",email:"",password:"",passwordConfirm:"",sendDisabled:!0,errormsg:!1},a.signup=a.signup.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"signup",value:function(){var e=this;b()(v+"/mainServices/auth/signup",{method:"POST",data:JSON.stringify({name:e.state.name,surname:e.state.surname,email:e.state.email,password:e.state.password}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),localStorage.setItem("token",t.data),localStorage.setItem("email",e.state.email),e.props.login(e.state.email)}).catch(function(t){console.log(t),e.setState({errormsg:!0})})}},{key:"handleChange",value:function(e){switch(e.target.name){case"name":this.setState({name:e.target.value});break;case"surname":this.setState({surname:e.target.value});break;case"email":this.setState({email:e.target.value});break;case"password":this.setState({password:e.target.value});break;case"passwordConfirm":this.setState({passwordConfirm:e.target.value})}}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j,{id:"signup",auth:!1}),l.a.createElement("div",{className:"container text-center",style:{paddingTop:"20px",width:"500px"}},l.a.createElement("div",{className:"row"},l.a.createElement("h2",{style:{marginLeft:"80px",marginBottom:"20px"}},"Sign Up")),l.a.createElement(S.AvForm,{id:"registerForm",style:{marginTop:"80px",marginBottom:"80px"}},l.a.createElement("div",{className:"userExists",style:{display:this.state.errormsg?"block":"none"}},l.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Entered email already exists! Enter another email")),l.a.createElement(S.AvField,{name:"name",label:"Name",id:"name",onChange:this.handleChange,type:"text",value:this.state.name,errorMessage:"Name should contain at least 2 characters",validate:{required:{value:!0},pattern:{value:"^([A-Z][a-z]+$)",errorMessage:"Name should be in latin alphabetic starting with the first capital letter"},minLength:{value:2}}}),l.a.createElement(S.AvField,{name:"surname",label:"Surname",id:"surname",onChange:this.handleChange,type:"text",value:this.state.surname,errorMessage:"Surname should contain at least 1 character",validate:{required:{value:!0},pattern:{value:"^([A-Z][a-z]+$)",errorMessage:"Surname should be in latin alphabetic starting with the first capital letter"},minLength:{value:2}}}),l.a.createElement(S.AvField,{name:"email",label:"Email",onChange:this.handleChange,type:"email",value:this.state.email,errorMessage:"Invalid email format",validate:{required:{value:!0},pattern:{value:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$',errorMessage:"Invalid email"}}}),l.a.createElement(S.AvField,{name:"password",label:"Password",onChange:this.handleChange,type:"password",value:this.state.password,errorMessage:"Your password should contain at least 8 characters",validate:{required:{value:!0},pattern:{value:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=\\S+$)(?=.{8,})",errorMessage:"Minimum 8 characters, at least 1 uppercase, 1 lowercase and 1 number. No whitespaces allowed!"}}}),l.a.createElement(S.AvField,{name:"passwordConfirm",label:"Confirm password",onChange:this.handleChange,type:"password",value:this.state.passwordConfirm,errorMessage:"Passwords do not match",validate:{required:{value:!0},pattern:{value:this.state.password}}}),l.a.createElement(O.Button,{color:"primary",onClick:this.signup,disabled:!w.validateEmail(this.state.email)||!w.validatePassword(this.state.password)||this.state.password!==this.state.passwordConfirm||!w.validName(this.state.name)||!w.validName(this.state.surname)},"Submit"))))}}]),t}(n.Component),I=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement("h1",null,"Dashboard Page. Wellcome, ",this.props.user,"!"))}}]),t}(n.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O.Card,null,l.a.createElement(O.CardFooter,{className:"text-muted text-center"},"\xa9 2018 ",l.a.createElement("span",{style:{color:"#0000ff"}},"AIntrovert")," All Rights Reserved")))}}]),t}(n.Component),B=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(O.Card,{style:{margin:"10px"}},l.a.createElement(O.CardImg,{width:"100%",height:"200px",src:this.props.img,alt:"Card image cap"}),l.a.createElement(O.CardBody,null,l.a.createElement(O.CardTitle,null,this.props.title),l.a.createElement(O.CardSubtitle,null,this.props.date),l.a.createElement(O.CardText,null,this.props.descr),l.a.createElement(O.Button,null,"See details")))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={page:1,list:[{id:1,name:"football",meetingdate:"2018/11/11",meetingtime:"16:16",location:"pole"}]},a.join=a.join.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"join",value:function(e){b()(v+"/mainServices/event/join",{method:"POST",data:JSON.stringify({id:e.target.name,token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.disabled=!0}).catch(function(e){console.log(e)})}},{key:"componentWillMount",value:function(){var e=this;b()(v+"/mainServices/event/getallevents",{method:"GET",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.setState({list:t.data})}).catch(function(t){console.log(t),e.setState({authorized:!1})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"border rounded"},l.a.createElement(O.Table,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Group #"),l.a.createElement("th",null,"Group Name"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Time"),l.a.createElement("th",null,"Location"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,e.state.list.map(function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("th",{scope:"row"},a),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.meetingdate),l.a.createElement("td",null,t.meetingtime),l.a.createElement("td",null,t.location),l.a.createElement("td",null,l.a.createElement(O.Button,{color:"danger"},"details")," ",l.a.createElement(O.Button,{disabled:t.admin===localStorage.getItem("email"),color:"success",onClick:e.join,name:t.id},"join")," "))}))),l.a.createElement(O.Row,{className:"paging"},l.a.createElement(O.Col,{md:{offset:10}},l.a.createElement(O.Button,{color:"primary"},"previous")," ",l.a.createElement(O.Button,{color:"info"},"next")," ")))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={page:1,list:[{id:1,name:"football",meetingdate:"2018/11/11",meetingtime:"16:16",location:"pole"}]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;b()(v+"/mainServices/event/getmyevents",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.setState({list:t.data}),console.log(t.data)}).catch(function(t){console.log(t),e.setState({authorized:!1})})}},{key:"render",value:function(){return l.a.createElement(O.Row,{className:"border rounded"},l.a.createElement(O.Row,{style:{width:"100%"}},this.state.list.map(function(e,t){return l.a.createElement(O.Col,{md:"4",key:e.id},l.a.createElement(B,{title:e.name,date:e.meetingdate+e.meetingtime,descr:e.description,img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTkEpDkrqjSyqbwBci92SQoZxyNR7eKqoL8b8CBuBJqjsvkkFXgMA"}))})),l.a.createElement(O.Row,{className:"paging"},l.a.createElement(O.Col,{md:{offset:10}},l.a.createElement(O.Button,{color:"primary"},"previous")," ",l.a.createElement(O.Button,{color:"info"},"next")," ")))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={name:"",date:"",time:"",description:"",location:"",category:"Other",price:0,points:0,img:"",msg:""},a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.send=a.send.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){switch(e.target.name){case"name":this.setState({name:e.target.value});break;case"location":this.setState({location:e.target.value});break;case"date":this.setState({date:e.target.value});break;case"time":this.setState({time:e.target.value});break;case"description":this.setState({description:e.target.value});break;case"category":this.setState({category:e.target.value});break;case"price":this.setState({price:e.target.value});break;case"points":this.setState({points:e.target.value});break;case"img":this.setState({img:e.target.value})}}},{key:"send",value:function(){var e=this;console.log(JSON.stringify({name:e.state.name,meetingdate:e.state.date+"",meetingtime:e.state.time+"",description:e.state.description,location:e.state.location,category:e.state.category+"",price:e.state.price+"",points:e.state.points+"",img:e.state.img,token:localStorage.getItem("token")})),b()(v+"/mainServices/event/create",{method:"POST",data:JSON.stringify({name:e.state.name,meetingdate:e.state.date+"",meetingtime:e.state.time+"",description:e.state.description,location:e.state.location,category:e.state.category+"",price:e.state.price+"",points:e.state.points+"",img:e.state.img,token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),e.setState({msg:"created"})}).catch(function(t){console.log(t),e.setState({msg:"error"})})}},{key:"render",value:function(){return l.a.createElement(O.Container,{className:"border rounded event-create"},l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"name"},"Name of the Event",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.name,type:"text",name:"name",id:"name",required:!0})),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"location"},"Location",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.location,type:"text",name:"location",id:"location",required:!0})),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"description"},"Description",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.description,type:"textarea",name:"description",id:"description",required:!0})),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"date"},"Date",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.data,type:"date",name:"date",id:"date",required:!0})),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"time"},"Time",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.time,type:"time",name:"time",id:"time",required:!0})),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"category"},"Category",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.category,type:"select",name:"category",id:"category",required:!0},l.a.createElement("option",null,"Sport"),l.a.createElement("option",null,"Study"),l.a.createElement("option",null,"Outdoors"),l.a.createElement("option",{selected:!0},"Other"))),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"price"},"Price",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.price,type:"number",name:"price",id:"price",required:!0})),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"points"},"Points",l.a.createElement("span",null,"*")),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.points,type:"number",name:"points",id:"points",required:!0})),l.a.createElement(O.FormGroup,null,l.a.createElement(O.Label,{for:"img"},"Link to image"),l.a.createElement(O.Input,{onChange:this.handleChange,value:this.state.img,type:"text",name:"img",id:"img"})),l.a.createElement(O.Button,{onClick:this.send},"Submit"),l.a.createElement("p",null,this.state.msg))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={color1:"#39CCCC",color2:"#7FDBFF",color3:"#7FDBFF",st:1},a.select1=a.select1.bind(Object(f.a)(Object(f.a)(a))),a.select2=a.select2.bind(Object(f.a)(Object(f.a)(a))),a.select3=a.select3.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"select1",value:function(){this.setState({color1:"#39CCCC",color2:"#7FDBFF",color3:"#7FDBFF",st:1})}},{key:"select2",value:function(){this.setState({color1:"#7FDBFF",color2:"#39CCCC",color3:"#7FDBFF",st:2})}},{key:"select3",value:function(){this.setState({color1:"#7FDBFF",color2:"#7FDBFF",color3:"#39CCCC",st:3})}},{key:"render",value:function(){return 1===this.state.st?l.a.createElement("div",null,l.a.createElement(j,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(O.Container,{className:"table"},l.a.createElement(O.Row,null,l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color1},onClick:this.select1},l.a.createElement("h4",null,"All events"))),l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color2},onClick:this.select2},l.a.createElement("h4",null,"My events"))),l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color3},onClick:this.select3},l.a.createElement("h4",null,"Create Event Group")))),l.a.createElement(A,null))):2===this.state.st?l.a.createElement("div",null,l.a.createElement(j,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(O.Container,{className:"table"},l.a.createElement(O.Row,null,l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color1},onClick:this.select1},l.a.createElement("h4",null,"All events"))),l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color2},onClick:this.select2},l.a.createElement("h4",null,"My events"))),l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color3},onClick:this.select3},l.a.createElement("h4",null,"Create Event Group")))),l.a.createElement(T,null))):3===this.state.st?l.a.createElement("div",null,l.a.createElement(j,{id:"dashboard",auth:!0,logout:this.props.logout}),l.a.createElement(O.Container,{className:"table"},l.a.createElement(O.Row,null,l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color1},onClick:this.select1},l.a.createElement("h4",null,"All events"))),l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color2},onClick:this.select2},l.a.createElement("h4",null,"My events"))),l.a.createElement(O.Col,{sm:"4"},l.a.createElement(O.Button,{color:"primary",style:{width:"100%",background:this.state.color3},onClick:this.select3},l.a.createElement("h4",null,"Create Event Group")))),l.a.createElement(z,null))):void 0}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={socket:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.setState({socket:new WebSocket(y)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j,{id:"dashboard",auth:!0,logout:this.props.logout}))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={authorized:null,user:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(v+"/mainServices/auth/checktoken"),null!=localStorage.getItem("token")?b()(v+"/mainServices/auth/checktoken",{method:"POST",data:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t.data),e.login(t.data)}).catch(function(t){console.log(t),e.setState({authorized:!1})}):e.setState({authorized:!1})}},{key:"login",value:function(e){console.log(e),localStorage.setItem("email",e),this.setState({authorized:!0,user:e})}},{key:"logout",value:function(){localStorage.setItem("token",""),this.setState({authorized:!1})}},{key:"render",value:function(){var e=this,t=this;return null==this.state.authorized?l.a.createElement("h1",null,"Loading ... "):l.a.createElement("div",null,l.a.createElement(d.a,null,l.a.createElement(h.a,null,l.a.createElement(p.a,{exact:!0,path:C+"/dashboard",render:function(){return t.state.authorized?l.a.createElement(I,{user:t.state.user,logout:t.logout.bind(e)}):l.a.createElement(g.a,{to:C+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:C+"/chat",render:function(){return t.state.authorized?l.a.createElement(L,{user:t.state.user,logout:t.logout.bind(e)}):l.a.createElement(g.a,{to:C+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:C+"/groups",render:function(){return t.state.authorized?l.a.createElement(D,{user:t.state.user,logout:t.logout.bind(e)}):l.a.createElement(g.a,{to:C+"/signin"})}}),l.a.createElement(p.a,{exact:!0,path:C+"/signin",render:function(){return t.state.authorized?l.a.createElement(g.a,{to:C+"/dashboard"}):l.a.createElement(F,{login:t.login.bind(e)})}}),l.a.createElement(p.a,{exact:!0,path:C+"/signup",render:function(){return t.state.authorized?l.a.createElement(g.a,{to:C+"/dashboard"}):l.a.createElement(N,{login:t.login.bind(e)})}}),l.a.createElement(p.a,{path:C+"/",render:function(){return l.a.createElement(g.a,{to:C+"/signin"})}}))),l.a.createElement(x,null))}}]),t}(l.a.Component);a(319);o.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[141,2,1]]]);
//# sourceMappingURL=main.cae423a7.chunk.js.map